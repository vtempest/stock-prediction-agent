!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["api-client"]={})}(this,function(e){"use strict";const t={bodySerializer:e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t)},r=({allowReserved:e,explode:t,name:r,style:o,value:a})=>{if(!t){const t=(e?a:a.map(e=>encodeURIComponent(e))).join((e=>{switch(e){case"form":default:return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20"}})(o));switch(o){case"label":return`.${t}`;case"matrix":return`;${r}=${t}`;case"simple":return t;default:return`${r}=${t}`}}const n=(e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}})(o),i=a.map(t=>"label"===o||"simple"===o?e?t:encodeURIComponent(t):s({allowReserved:e,name:r,value:t})).join(n);return"label"===o||"matrix"===o?n+i:i},s=({allowReserved:e,name:t,value:r})=>{if(null==r)return"";if("object"==typeof r)throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},o=({allowReserved:e,explode:t,name:r,style:o,value:a,valueOnly:n})=>{if(a instanceof Date)return n?a.toISOString():`${r}=${a.toISOString()}`;if("deepObject"!==o&&!t){let t=[];Object.entries(a).forEach(([r,s])=>{t=[...t,r,e?s:encodeURIComponent(s)]});const s=t.join(",");switch(o){case"form":return`${r}=${s}`;case"label":return`.${s}`;case"matrix":return`;${r}=${s}`;default:return s}}const i=(e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}})(o),l=Object.entries(a).map(([t,a])=>s({allowReserved:e,name:"deepObject"===o?`${r}[${t}]`:t,value:a})).join(i);return"label"===o||"matrix"===o?i+l:l},a=/\{[^{}]+\}/g,n=({baseUrl:e,path:t,query:n,querySerializer:i,url:l})=>{let c=(e??"")+(l.startsWith("/")?l:`/${l}`);t&&(c=(({path:e,url:t})=>{let n=t;const i=t.match(a);if(i)for(const a of i){let t=!1,i=a.substring(1,a.length-1),l="simple";i.endsWith("*")&&(t=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(i=i.substring(1),l="label"):i.startsWith(";")&&(i=i.substring(1),l="matrix");const c=e[i];if(null==c)continue;if(Array.isArray(c)){n=n.replace(a,r({explode:t,name:i,style:l,value:c}));continue}if("object"==typeof c){n=n.replace(a,o({explode:t,name:i,style:l,value:c,valueOnly:!0}));continue}if("matrix"===l){n=n.replace(a,`;${s({name:i,value:c})}`);continue}const u=encodeURIComponent("label"===l?`.${c}`:c);n=n.replace(a,u)}return n})({path:t,url:c}));let u=n?i(n):"";return u.startsWith("?")&&(u=u.substring(1)),u&&(c+=`?${u}`),c};function i(e){const t=void 0!==e.body;if(t&&e.bodySerializer){if("serializedBody"in e){return void 0!==e.serializedBody&&""!==e.serializedBody?e.serializedBody:null}return""!==e.body?e.body:null}if(t)return e.body}const l=async(e,t)=>{const r="function"==typeof t?await t(e):t;if(r)return"bearer"===e.scheme?`Bearer ${r}`:"basic"===e.scheme?`Basic ${btoa(r)}`:r},c=({parameters:e={},...t}={})=>a=>{const n=[];if(a&&"object"==typeof a)for(const i in a){const l=a[i];if(null==l)continue;const c=e[i]||t;if(Array.isArray(l)){const e=r({allowReserved:c.allowReserved,explode:!0,name:i,style:"form",value:l,...c.array});e&&n.push(e)}else if("object"==typeof l){const e=o({allowReserved:c.allowReserved,explode:!0,name:i,style:"deepObject",value:l,...c.object});e&&n.push(e)}else{const e=s({allowReserved:c.allowReserved,name:i,value:l});e&&n.push(e)}}return n.join("&")},u=(e,t)=>!!t&&!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)),d=e=>n({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:"function"==typeof e.querySerializer?e.querySerializer:c(e.querySerializer),url:e.url}),p=(e,t)=>{const r={...e,...t};return r.baseUrl?.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=h(e.headers,t.headers),r},f=e=>{const t=[];return e.forEach((e,r)=>{t.push([r,e])}),t},h=(...e)=>{const t=new Headers;for(const r of e){if(!r)continue;const e=r instanceof Headers?f(r):Object.entries(r);for(const[r,s]of e)if(null===s)t.delete(r);else if(Array.isArray(s))for(const e of s)t.append(r,e);else void 0!==s&&t.set(r,"object"==typeof s?JSON.stringify(s):s)}return t};class y{fns=[];clear(){this.fns=[]}eject(e){const t=this.getInterceptorIndex(e);this.fns[t]&&(this.fns[t]=null)}exists(e){const t=this.getInterceptorIndex(e);return Boolean(this.fns[t])}getInterceptorIndex(e){return"number"==typeof e?this.fns[e]?e:-1:this.fns.indexOf(e)}update(e,t){const r=this.getInterceptorIndex(e);return!!this.fns[r]&&(this.fns[r]=t,e)}use(e){return this.fns.push(e),this.fns.length-1}}const g=c({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),b={"Content-Type":"application/json"},m=(e={})=>({...t,headers:b,parseAs:"auto",querySerializer:g,...e}),w=((e={})=>{let t=p(m(),e);const r=()=>({...t}),s={error:new y,request:new y,response:new y},o=async e=>{const r={...t,...e,fetch:e.fetch??t.fetch??globalThis.fetch,headers:h(t.headers,e.headers),serializedBody:void 0};r.security&&await(async({security:e,...t})=>{for(const r of e){if(u(t,r.name))continue;const e=await l(r,t.auth);if(!e)continue;const s=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[s]=e;break;case"cookie":t.headers.append("Cookie",`${s}=${e}`);break;default:t.headers.set(s,e)}}})({...r,security:r.security}),r.requestValidator&&await r.requestValidator(r),void 0!==r.body&&r.bodySerializer&&(r.serializedBody=r.bodySerializer(r.body)),void 0!==r.body&&""!==r.serializedBody||r.headers.delete("Content-Type");return{opts:r,url:d(r)}},a=async e=>{const{opts:t,url:r}=await o(e),a={redirect:"follow",...t,body:i(t)};let n=new Request(r,a);for(const o of s.request.fns)o&&(n=await o(n,t));const l=t.fetch;let c;try{c=await l(n)}catch(y){let e=y;for(const r of s.error.fns)r&&(e=await r(y,void 0,n,t));if(e=e||{},t.throwOnError)throw e;return"data"===t.responseStyle?void 0:{error:e,request:n,response:void 0}}for(const o of s.response.fns)o&&(c=await o(c,n,t));const u={request:n,response:c};if(c.ok){const e=("auto"===t.parseAs?(e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();return t?t.startsWith("application/json")||t.endsWith("+json")?"json":"multipart/form-data"===t?"formData":["application/","audio/","image/","video/"].some(e=>t.startsWith(e))?"blob":t.startsWith("text/")?"text":void 0:void 0})(c.headers.get("Content-Type")):t.parseAs)??"json";if(204===c.status||"0"===c.headers.get("Content-Length")){let r;switch(e){case"arrayBuffer":case"blob":case"text":r=await c[e]();break;case"formData":r=new FormData;break;case"stream":r=c.body;break;default:r={}}return"data"===t.responseStyle?r:{data:r,...u}}let r;switch(e){case"arrayBuffer":case"blob":case"formData":case"json":case"text":r=await c[e]();break;case"stream":return"data"===t.responseStyle?c.body:{data:c.body,...u}}return"json"===e&&(t.responseValidator&&await t.responseValidator(r),t.responseTransformer&&(r=await t.responseTransformer(r))),"data"===t.responseStyle?r:{data:r,...u}}const d=await c.text();let p;try{p=JSON.parse(d)}catch{}const f=p??d;let h=f;for(const o of s.error.fns)o&&(h=await o(f,c,n,t));if(h=h||{},t.throwOnError)throw h;return"data"===t.responseStyle?void 0:{error:h,...u}},n=e=>t=>a({...t,method:e}),c=e=>async t=>{const{opts:r,url:a}=await o(t);return(({onRequest:e,onSseError:t,onSseEvent:r,responseTransformer:s,responseValidator:o,sseDefaultRetryDelay:a,sseMaxRetryAttempts:n,sseMaxRetryDelay:i,sseSleepFn:l,url:c,...u})=>{let d;const p=l??(e=>new Promise(t=>setTimeout(t,e)));return{stream:async function*(){let l=a??3e3,f=0;const h=u.signal??(new AbortController).signal;for(;!h.aborted;){f++;const a=u.headers instanceof Headers?u.headers:new Headers(u.headers);void 0!==d&&a.set("Last-Event-ID",d);try{const t={redirect:"follow",...u,body:u.serializedBody,headers:a,signal:h};let n=new Request(c,t);e&&(n=await e(c,t));const i=u.fetch??globalThis.fetch,p=await i(n);if(!p.ok)throw new Error(`SSE failed: ${p.status} ${p.statusText}`);if(!p.body)throw new Error("No body in SSE response");const f=p.body.pipeThrough(new TextDecoderStream).getReader();let y="";const g=()=>{try{f.cancel()}catch{}};h.addEventListener("abort",g);try{for(;;){const{done:e,value:t}=await f.read();if(e)break;y+=t;const a=y.split("\n\n");y=a.pop()??"";for(const n of a){const e=n.split("\n"),t=[];let a,i;for(const r of e)if(r.startsWith("data:"))t.push(r.replace(/^data:\s*/,""));else if(r.startsWith("event:"))a=r.replace(/^event:\s*/,"");else if(r.startsWith("id:"))d=r.replace(/^id:\s*/,"");else if(r.startsWith("retry:")){const e=Number.parseInt(r.replace(/^retry:\s*/,""),10);Number.isNaN(e)||(l=e)}let c=!1;if(t.length){const e=t.join("\n");try{i=JSON.parse(e),c=!0}catch{i=e}}c&&(o&&await o(i),s&&(i=await s(i))),r?.({data:i,event:a,id:d,retry:l}),t.length&&(yield i)}}}finally{h.removeEventListener("abort",g),f.releaseLock()}break}catch(y){if(t?.(y),void 0!==n&&f>=n)break;const e=Math.min(l*2**(f-1),i??3e4);await p(e)}}}()}})({...r,body:r.body,headers:r.headers,method:e,onRequest:async(e,t)=>{let o=new Request(e,t);for(const a of s.request.fns)a&&(o=await a(o,r));return o},url:a})};return{buildUrl:d,connect:n("CONNECT"),delete:n("DELETE"),get:n("GET"),getConfig:r,head:n("HEAD"),interceptors:s,options:n("OPTIONS"),patch:n("PATCH"),post:n("POST"),put:n("PUT"),request:a,setConfig:e=>(t=p(t,e),r()),sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:n("TRACE")}})((S=m({baseUrl:"https://autoinvestment.broker/api"}),{...S,baseUrl:"https://autoinvestment.broker/api"}));var S;e.deleteUserStrategiesById=e=>(e.client??w).delete({url:"/user/strategies/{id}",...e}),e.getGroqDebate=e=>(e?.client??w).get({url:"/groq-debate",...e}),e.getPolymarketMarkets=e=>(e?.client??w).get({url:"/polymarket/markets",...e}),e.getSecCompaniesByTickerOrCikFilings=e=>(e.client??w).get({url:"/sec/companies/{tickerOrCik}/filings",...e}),e.getStocksAutocomplete=e=>(e.client??w).get({url:"/stocks/autocomplete",...e}),e.getStocksDelisted=e=>(e?.client??w).get({url:"/stocks/delisted",...e}),e.getStocksGainers=e=>(e?.client??w).get({url:"/stocks/gainers",...e}),e.getStocksHistoricalBySymbol=e=>(e.client??w).get({url:"/stocks/historical/{symbol}",...e}),e.getStocksQuoteBySymbol=e=>(e.client??w).get({url:"/stocks/quote/{symbol}",...e}),e.getStocksSearch=e=>(e.client??w).get({url:"/stocks/search",...e}),e.getStocksSectors=e=>(e?.client??w).get({url:"/stocks/sectors",...e}),e.getStocksTrending=e=>(e?.client??w).get({url:"/stocks/trending",...e}),e.getStrategiesAlgoScripts=e=>(e?.client??w).get({url:"/strategies/algo-scripts",...e}),e.getUserPortfolio=e=>(e?.client??w).get({url:"/user/portfolio",...e}),e.getUserSettings=e=>(e?.client??w).get({url:"/user/settings",...e}),e.getUserSignals=e=>(e?.client??w).get({url:"/user/signals",...e}),e.getUserStrategies=e=>(e?.client??w).get({url:"/user/strategies",...e}),e.getZuluSearch=e=>(e?.client??w).get({url:"/zulu/search",...e}),e.getZuluTopRank=e=>(e?.client??w).get({url:"/zulu/top-rank",...e}),e.postBacktest=e=>(e?.client??w).post({url:"/backtest",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postBacktestTechnical=e=>(e?.client??w).post({url:"/backtest-technical",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postGroqDebate=e=>(e.client??w).post({url:"/groq-debate",...e,headers:{"Content-Type":"application/json",...e.headers}}),e.postPolymarketPositions=e=>(e?.client??w).post({url:"/polymarket/positions",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postStocksPredictStatistics=e=>(e?.client??w).post({url:"/stocks/predict/statistics",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postStocksScreener=e=>(e?.client??w).post({url:"/stocks/screener",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postTradingAgents=e=>(e?.client??w).post({url:"/trading-agents",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postUserPortfolioInitialize=e=>(e?.client??w).post({url:"/user/portfolio/initialize",...e}),e.postUserSettings=e=>(e?.client??w).post({url:"/user/settings",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postUserStrategies=e=>(e?.client??w).post({url:"/user/strategies",...e,headers:{"Content-Type":"application/json",...e?.headers}}),e.postZuluSync=e=>(e?.client??w).post({url:"/zulu/sync",...e}),e.putUserStrategiesById=e=>(e.client??w).put({url:"/user/strategies/{id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
